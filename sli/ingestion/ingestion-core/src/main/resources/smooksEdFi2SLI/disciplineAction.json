{
    "keyFields" : ["body.studentId","body.disciplineIncidentId","body.disciplineDate","body.disciplineActionIdentifier"],
    "references" :
    [
    {
        "fieldPath" : "body.StaffReference",
        "deprecated" : true,
        "ref" :
        {
            "entityType" : "staff",
            "isRefList" : true,
            "refObjectPath" : "body.StaffReference",
            "takesContext" : ["edOrgs"],
            "choiceOfFields" :
            [
                [
                    {
                        "path" : "body.staffUniqueStateId",
                        "values" :
                        [{
                            "valueSource" : "body.StaffReference.StaffIdentity.StaffUniqueStateId"
                        }]
                    }
                ]
            ]
        }
    },
    {
        "fieldPath" : "body.studentId",
        "ref" :
        {
            "entityType" : "student",
            "isRefList" : true,
            "refObjectPath" : "body.studentReference",
            "takesContext" : ["edOrgs"],
            "choiceOfFields" :
            [
                [
                    {
                        "path" : "body.studentUniqueStateId",
                        "values" :
                        [
                            {"valueSource" : "body.studentReference.studentIdentity.studentUniqueStateId"}
                        ]
                    }
                ]
            ]
        }
    },
    {
        "fieldPath" : "body.disciplineIncidentId",
        "ref" :
        {
            "entityType" : "disciplineIncident",
            "isRefList" : true,
            "refObjectPath" : "body.disciplineIncidentReference",
            "takesContext" : ["edOrgs"],
            "choiceOfFields" :
            [
                [
                    {
                        "path" : "body.incidentIdentifier",
                        "values" :
                        [
                            {"valueSource" : "body.disciplineIncidentReference.disciplineIncidentIdentity.incidentIdentifier"}
                        ]
                    },
                    {
                        "path" : "body.schoolId",
                        "values" :
                        [
                {"ref" :
                    {
                                    "entityType" : "educationOrganization",
                                    "choiceOfFields" :
                        [
                        [
                            {
                                "path" : "body.stateOrganizationId",
                                "values":
                                [
                                {"valueSource": "body.disciplineIncidentReference.disciplineIncidentIdentity.stateOrganizationId"}
                                ]
                            }
                        ]
                        ]
                }
                }
                        ]
            }
                ]
            ]
        }
    },
    {
        "fieldPath" : "body.responsibilitySchoolId",
        "ref" :
        {
            "entityType" : "school",
            "takesContext" : ["edOrgs"],
            "choiceOfFields" :
            [
                [
                    {
                        "path" : "body.stateOrganizationId",
                        "values" :
                        [
                            {"valueSource" : "body.responsibilitySchoolId.educationalOrgIdentity.stateOrganizationId"}
                        ]
                    }
                ]
            ]
        }
    },
    {
        "fieldPath" : "body.assignmentSchoolId",
        "ref" :
        {
            "entityType" : "school",
            "takesContext" : ["edOrgs"],
            "optional" : "true",
            "choiceOfFields" :
            [
                [
                    {
                        "path" : "body.stateOrganizationId",
                        "values" :
                        [
                            {"valueSource" : "body.assignmentSchoolId.educationalOrgIdentity.stateOrganizationId"}
                        ]
                    }
                ]
            ]
        }
    }
    ]
}


{
   "keyFields":["body.uniqueSectionCode","body.schoolId","body.sessionId", "body.courseId"],
   "references":
   [
      {
         "fieldPath":"body.schoolId",
         "ref":
         {
            "collectionName":"school",
            "choiceOfFields":
            [
               [
                  {
                     "path":"metaData.externalId",
                     "values":
                     [{
                         "valueSource":"body.schoolId"
                     }]
                  }
               ]
            ]
         }
      },
      {
         "fieldPath":"body.sessionId",
         "ref":
         {
            "collectionName":"session",
            "choiceOfFields":
            [
               [
                  {
                     "path":"body.schoolYear",
                     "values":
                     [{
                         "valueSource":"body.sessionReference.SchoolYear"
                     }]
                  },
                  {
                     "path":"body.term",
                     "values":
                     [{
                         "valueSource":"body.sessionReference.Term"
                     }]
                  },
                  {
                     "path":"body.sessionName",
                     "values":
                     [{
                         "valueSource":"body.sessionReference.SessionName"
                     }]
                  },
                  {
                     "path":"body.schoolId",
                     "values":
                     [
                        {
                           "ref":
                           {
                              "collectionName":"school",
                              "choiceOfFields":
                              [
                                 [
                                    {
                                       "path":"metaData.externalId",
                                       "values":
                                       [{
                                           "valueSource":"body.schoolId"
                                       }]
                                    }
                                 ]
                              ]
                           }
                        }
                     ]
                  }
               ]
            ]
         }
      },
      {
         "fieldPath":"body.courseId",
         "ref":{
            "collectionName":"course",
            "choiceOfFields":[
               [
                  {
                     "path":"metaData.externalId",
                     "values":[
                        {
                           "valueSource":"body.LocalCourseCode"
                        }
                     ]
                  }
               ]
            ]
         }
      }
   ]
}
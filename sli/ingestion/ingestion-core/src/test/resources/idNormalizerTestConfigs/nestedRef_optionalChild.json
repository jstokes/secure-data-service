{
    "references" : 
    [{
        "fieldPath" : "body.parentId",
        "ref" :
        { 
            "collectionName" : "parentCollection",
            "choiceOfFields" :
            [
                [
                    { 
                        "path" : "body.otherField",
                        "values" : 
                        [{ 
                            "valueSource" : "body.parentRef.srcOtherField"
                        }]
                    },
                    {
                        "path" : "body.childId",
                        "values" :
                        [{
                            "ref" :
                            {
                                "collectionName" : "childCollection",
                                "optional" : true,
                                "choiceOfFields":
                                [[{
                                      "path" : "body.childField",
                                      "values" :
                                      [{
                                          "valueSource" : "body.parentRef.srcChildRefField"
                                      }]
                                }]]
                            }
                        }]
                    }
                ]
            ]
        }
    }]
} 
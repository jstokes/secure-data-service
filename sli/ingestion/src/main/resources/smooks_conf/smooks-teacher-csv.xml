
<smooks-resource-list xmlns="http://www.milyn.org/xsd/smooks-1.1.xsd" xmlns:core="http://www.milyn.org/xsd/smooks/smooks-core-1.4.xsd"
  xmlns:jb="http://www.milyn.org/xsd/smooks/javabean-1.3.xsd" xmlns:camel="http://www.milyn.org/xsd/smooks/camel-1.4.xsd"
  xmlns:csv="http://www.milyn.org/xsd/smooks/csv-1.2.xsd">

  <params>
    <param name="stream.filter.type">SAX</param>
    <param name="terminate.on.visitor.exception">false</param>
  </params>

  <csv:reader
    fields="StaffUniqueStateId,
    StaffIdentificationCode_IdentificationSystem,StaffIdentificationCode_AssigningOrganizationCode,StaffIdentificationCode_ID,
    Name_Verification,Name_PersonalTitlePrefix,Name_FirstName,Name_MiddleName,Name_LastSurname,Name_GenerationCodeSuffix,Name_MaidenName,
    OtherName_OtherNameType,OtherName_PersonalTitlePrefix,OtherName_FirstName,OtherName_MiddleName,OtherName_LastSurname,OtherName_GenerationCodeSuffix,
    Sex,
    BirthDate,
    Address_AddressType,Address_StreetNumberName,Address_ApartmentRoomSuiteNumber,Address_BuildingSiteNumber,Address_City,Address_StateAbbreviation,Address_PostalCode,Address_NameOfCounty,Address_CountyFIPSCode,Address_CountryCode,Address_Latitude,Address_Longitude,Address_OpenDate,Address_CloseDate,
    Telephone_TelephoneNumberType,Telephone_TelephoneNumber,Telephone_PrimaryTelephoneNumberIndicator,
    ElectronicMail_EmailAddressType,ElectronicMail_EmailAddress,
    HispanicLatinoEthnicity,
    OldEthnicity,
    Race_RacialCategory,
    HighestLevelOfEducationCompleted,
    YearsOfPriorProfessionalExperience,
    YearsOfPriorTeachingExperience,
    Credentials_CredentialType,Credentials_CredentialField_ID,Credentials_CredentialField_CodeValue,Credentials_CredentialField_Description,Credentials_Level,Credentials_TeachingCredentialType,Credentials_CredentialIssuanceDate,Credentials_CredentialExpirationDate,Credentials_TeachingCredentialBasis,
    LoginId,
    TeacherUniqueStateId,
    HighlyQualifiedTeacher,
    $ignore$+">
  </csv:reader>

  <!-- Start Teacher mapping -->
  <jb:bean beanId="record" class="org.slc.sli.ingestion.NeutralRecord" createOnElement="csv-record">
    <jb:expression property="recordType">'teacher'</jb:expression>
    <jb:value property="localId" data="StaffUniqueStateId" />
    <jb:wiring property="attributes" beanIdRef="teacherAttributes" />
  </jb:bean>

  <jb:bean beanId="teacherAttributes" class="java.util.HashMap" createOnElement="csv-record">
    <jb:value property="staffUniqueStateId" data="StaffUniqueStateId" />
    <jb:wiring property="staffIdentificationCode" beanIdRef="staffIdentificationCodeTypeArray" />
    <jb:wiring property="name" beanIdRef="teacherNameType" />
    <jb:wiring property="otherName" beanIdRef="teacherOtherNameTypeArray" />
    <jb:value property="sex" data="Sex" />
    <jb:value property="birthDate" data="BirthDate" />
    <jb:wiring property="address" beanIdRef="teacherAddressTypeArray" />
    <jb:wiring property="telephone" beanIdRef="teacherTelephoneTypeArray" />
    <jb:wiring property="electronicMail" beanIdRef="teacherElectronicMailTypeArray" />
    <jb:value property="hispanicLatinoEthnicity" data="HispanicLatinoEthnicity" decoder="Boolean" />
    <jb:value property="oldEthnicity" data="OldEthnicity" />
    <jb:wiring property="race" beanIdRef="teacherRaceItemTypeArray" />
    <jb:value property="highestLevelOfEducationCompleted" data="HighestLevelOfEducationCompleted" />
    <jb:value property="yearsOfPriorProfessionalExperience" data="YearsOfPriorProfessionalExperience"
      decoder="Integer" />
    <jb:value property="yearsOfPriorTeachingExperience" data="YearsOfPriorTeachingExperience"
      decoder="Integer" />
    <jb:wiring property="credentials" beanIdRef="teacherCredentialTypeArray" />
    <jb:value property="loginId" data="LoginId" />
    <jb:value property="teacherUniqueStateId" data="TeacherUniqueStateId" />
    <jb:value property="highlyQualifiedTeacher" data="HighlyQualifiedTeacher" decoder="Boolean" />
  </jb:bean>

  <jb:bean beanId="staffIdentificationCodeTypeArray" class="java.util.ArrayList" createOnElement="csv-record">
    <jb:wiring beanIdRef="staffIdentificationCodeType" />
  </jb:bean>
  <jb:bean beanId="staffIdentificationCodeType" class="java.util.HashMap" createOnElement="csv-record">
    <jb:value property="identificationSystem" data="StaffIdentificationCode_IdentificationSystem" />
    <jb:value property="assigningOrganizationCode" data="StaffIdentificationCode_AssigningOrganizationCode" />
    <jb:value property="id" data="StaffIdentificationCode_ID" />
  </jb:bean>
  <jb:bean beanId="teacherNameType" class="java.util.HashMap" createOnElement="csv-record">
    <jb:value property="verification" data="Name_Verification" />
    <jb:value property="personalTitlePrefix" data="Name_PersonalTitlePrefix" />
    <jb:value property="firstName" data="Name_FirstName" />
    <jb:value property="middleName" data="Name_MiddleName" />
    <jb:value property="lastSurname" data="Name_LastSurname" />
    <jb:value property="generationCodeSuffix" data="Name_GenerationCodeSuffix" />
    <jb:value property="maidenName" data="Name_MaidenName" />
  </jb:bean>
  <jb:bean beanId="teacherOtherNameTypeArray" class="java.util.ArrayList" createOnElement="csv-record">
    <jb:wiring beanIdRef="teacherOtherNameType" />
  </jb:bean>
  <jb:bean beanId="teacherOtherNameType" class="java.util.HashMap" createOnElement="csv-record">
    <jb:value property="otherNameType" data="OtherName_OtherNameType" />
    <jb:value property="personalTitlePrefix" data="OtherName_PersonalTitlePrefix" />
    <jb:value property="firstName" data="OtherName_FirstName" />
    <jb:value property="middleName" data="OtherName_MiddleName" />
    <jb:value property="lastSurname" data="OtherName_LastSurname" />
    <jb:value property="generationCodeSuffix" data="OtherName_GenerationCodeSuffix" />
  </jb:bean>
  <jb:bean beanId="teacherAddressTypeArray" class="java.util.ArrayList" createOnElement="csv-record">
    <jb:wiring beanIdRef="teacherAddressType" />
  </jb:bean>
  <jb:bean beanId="teacherAddressType" class="java.util.HashMap" createOnElement="csv-record">
    <jb:value property="addressType" data="Address_AddressType" />
    <jb:value property="streetNumberName" data="Address_StreetNumberName" />
    <jb:value property="apartmentRoomSuiteNumber" data="Address_ApartmentRoomSuiteNumber" />
    <jb:value property="buildingSiteNumber" data="Address_BuildingSiteNumber" />
    <jb:value property="city" data="Address_City" />
    <jb:value property="stateAbbreviation" data="Address_StateAbbreviation" />
    <jb:value property="postalCode" data="Address_PostalCode" />
    <jb:value property="nameOfCounty" data="Address_NameOfCounty" />
    <jb:value property="countyFIPSCode" data="Address_CountyFIPSCode" />
    <jb:value property="countryCode" data="Address_CountryCode" />
    <jb:value property="latitude" data="Address_Latitude" />
    <jb:value property="longitude" data="Address_Longitude" />
    <jb:value property="openDate" data="Address_OpenDate" />
    <jb:value property="closeDate" data="Address_CloseDate" />
  </jb:bean>
  <jb:bean beanId="teacherTelephoneTypeArray" class="java.util.ArrayList" createOnElement="csv-record">
    <jb:wiring beanIdRef="teacherTelephoneType" />
  </jb:bean>
  <jb:bean beanId="teacherTelephoneType" class="java.util.HashMap" createOnElement="csv-record">
    <jb:value property="telephoneNumberType" data="Telephone_TelephoneNumberType" />
    <jb:value property="primaryTelephoneNumberIndicator" data="Telephone_PrimaryTelephoneNumberIndicator"
      decoder="Boolean" />
    <jb:value property="telephoneNumber" data="Telephone_TelephoneNumber" />
  </jb:bean>
  <jb:bean beanId="teacherElectronicMailTypeArray" class="java.util.ArrayList" createOnElement="csv-record">
    <jb:wiring beanIdRef="teacherElectronicMailType" />
  </jb:bean>
  <jb:bean beanId="teacherElectronicMailType" class="java.util.HashMap" createOnElement="csv-record">
    <jb:value property="emailAddressType" data="ElectronicMail_EmailAddressType" />
    <jb:value property="emailAddress" data="ElectronicMail_EmailAddress" />
  </jb:bean>
  <jb:bean beanId="teacherRaceItemTypeArray" class="java.util.ArrayList" createOnElement="csv-record">
    <jb:value data="Race_RacialCategory" />
  </jb:bean>
  <jb:bean beanId="teacherCredentialTypeArray" class="java.util.ArrayList" createOnElement="csv-record">
    <jb:wiring beanIdRef="teacherCredentialType" />
  </jb:bean>
  <jb:bean beanId="teacherCredentialType" class="java.util.HashMap" createOnElement="csv-record">
    <jb:value property="credentialType" data="Credentials_CredentialType" />
    <jb:wiring property="credentialField" beanIdRef="teacherCredentialFieldDescriptor" />
    <jb:value property="level" data="Credentials_Level" />
    <jb:value property="teachingCredentialType" data="Credentials_TeachingCredentialType" />
    <jb:value property="credentialIssuanceDate" data="Credentials_CredentialIssuanceDate" />
    <jb:value property="credentialExpirationDate" data="Credentials_CredentialExpirationDate" />
    <jb:value property="teachingCredentialBasis" data="Credentials_TeachingCredentialBasis" />
  </jb:bean>
  <jb:bean beanId="teacherCredentialFieldDescriptor" class="java.util.HashMap" createOnElement="csv-record">
    <jb:value property="id" data="Credentials_CredentialField_ID" />
    <jb:value property="codeValue" data="Credentials_CredentialField_CodeValue" />
    <jb:value property="description" data="Credentials_CredentialField_Description" />
  </jb:bean>
  <!-- End Teacher Mapping -->

</smooks-resource-list>


<smooks-resource-list xmlns="http://www.milyn.org/xsd/smooks-1.1.xsd"
  xmlns:core="http://www.milyn.org/xsd/smooks/smooks-core-1.4.xsd"
  xmlns:jb="http://www.milyn.org/xsd/smooks/javabean-1.3.xsd"
  xmlns:camel="http://www.milyn.org/xsd/smooks/camel-1.4.xsd" xmlns:csv="http://www.milyn.org/xsd/smooks/csv-1.2.xsd">

  <params>
    <param name="stream.filter.type">SAX</param>
    <param name="terminate.on.visitor.exception">false</param>
  </params>

  <csv:reader
    fields="SessionName,
    SchoolYear,
    Term,
    BeginDate,
    EndDate,
    TotalInstructionalDays">

  </csv:reader>

  <jb:bean beanId="record" class="org.slc.sli.ingestion.NeutralRecord"
    createOnElement="csv-record">

    <jb:expression property="recordType">'session'</jb:expression>
    <jb:value property="localId" data="csv-record/SessionName" />
    <jb:wiring property="attributes" beanIdRef="sessionAttributes" />
  </jb:bean>

  <jb:bean beanId="sessionAttributes" class="java.util.HashMap"
    createOnElement="csv-record">

    <!-- SessionName -->
    <jb:value property="sessionName" data="csv-record/SessionName" />

    <!--SchoolYear -->
    <jb:value property="schoolYear" data="csv-record/SchoolYear" />

    <!-- Term -->
    <jb:value property="term" data="csv-record/Term" />

    <!-- BeginDate -->
    <jb:value property="beginDate" data="csv-record/BeginDate" />

    <!-- EndDate -->
    <jb:value property="endDate" data="csv-record/EndDate" />

    <!-- TotalInstructionalDays -->
    <jb:value property="totalInstructionalDays" data="csv-record/TotalInstructionalDays" decoder="Integer" />

  </jb:bean>

</smooks-resource-list>

#Specify indexes for tenantDB here.
#format:
# collection,uniqueness,key1:order,key2:order...
#
#collection: name of the collection to be index
#uniquenesss: specifies the uniqueness of the field.Can only be true of false
#key:order: index key and order .

# (collection,unique,indexKeys ...)
# creationTime indexes for all collections

# Low cardinality collections
# approved 10/30 by Tony/Billy
adminDelegation,false,body.localEdOrgId:1,body.appApprovalEnabled:1
applicationAuthorization,false,body.appIds:1
applicationAuthorization,false,body.authId:1,body.authType:1
customRole,false,body.realmId:1
customRole,false,metaData.tenantId:1,body.realmId:1
custom_entities,false,metaData.entityId:1,metaData.clientId:1

# Billy is investigating these

# direct references, index on each direct reference
# REMOVE - DE2536
attendance,false,body.schoolId:1
# Look up attendance by student: /students/{id}/attendances
attendance,false,body.studentId:1
# Look up cohort by edorg: /educationOrganizations/{id}/cohorts
cohort,false,body.educationOrgId:1
# Look up studentCohortAssociation by student: /students/{id}/studentCohortAssociations
cohort,false,studentCohortAssociation.body.studentId:1
# REMOVE - DE2537
cohort,false,body.programId:1
# Look up course by school: /educationOrganizations/{id}/schools
course,false,body.schoolId:1
# Look up courseOffering by course: /courses/{id}/courseOfferings
courseOffering,false,body.courseId:1
# Look up courseOffering by school: /schools/{id}/courseOfferings
courseOffering,false,body.schoolId:1
# Look up courseOffering by session: /sessions/{id}/courseOfferings
courseOffering,false,body.sessionId:1
# Look up courseTranscript by course: /courses/{id}/courseTranscripts
courseTranscript,false,body.courseId:1
# REMOVE - DE2538
courseTranscript,false,body.studentAcademicRecordId:1
# Look up courseTranscript by student: /students/{id}/courseTranscripts
courseTranscript,false,body.studentId:1
# REMOVE - DE2539
disciplineAction,false,body.assignmentSchoolId:1
# REMOVE - DE2540
disciplineAction,false,body.disciplineIncidentId:1
# REMOVE - DE2541
disciplineAction,false,body.responsibilitySchoolId:1
# Look up disciplineAction by teacher: /teachers/{id}/disciplineActions
disciplineAction,false,body.staffId:1
# REMOVE - DE2542
disciplineAction,false,body.studentId:1
# REMOVE - DE2543
disciplineIncident,false,body.schoolId:1
# Look up disciplineIncident by teacher: /teachers/{id}/disciplineIncidents
disciplineIncident,false,body.staffId:1
# Used in heirarchy traversal
educationOrganization,false,body.parentEducationAgencyReference:1
educationOrganization,false,body.parentEducationAgencyReference:1,type:1
# REMOVE - DE2544
educationOrganization,false,body.programReference:1
# Look up grade by gradingPeriod: /gradingPeriods/{id}/grades
grade,false,body.gradePeriodId:1
# REMOVE - DE2545
grade,false,body.studentSectionAssociationId:1
# Look up graduation play by edorg: /educationOrganizations/{id}/graduationPlans
graduationPlan,false,body.educationOrganizationId:1
# REMOVE - DE2546
learningObjective,false,body.learningStandards:1
# Learning objective traversal
learningObjective,false,body.parentLearningObjective:1
# REMOVE - DE2547
reportCard,false,body.grades:1
# Look up reportCard by gradingPeriod: /gradingPeriods/{id}/reportCards
reportCard,false,body.gradingPeriodId:1
# Look up reportCard by studentCompetency: /studentCompetencies/{id}/reportCards
reportCard,false,body.studentCompetencyId:1
# Look up reportCard by student: /students/{id}/reportCards
reportCard,false,body.studentId:1
# REMOVE - DEDE2548
section,false,body.assessmentReferences:1
# Look up section by courseOffering: /courseOfferings/{id}/sections
section,false,body.courseOfferingId:1
# REMOVE - DE2549
section,false,body.programReference:1
# Look up section by school: /schools/{id}/sections
section,false,body.schoolId:1
# Look up section by session: /sessions/{id}/sections
section,false,body.sessionId:1
# REMOVE - DE2550
session,false,body.gradingPeriodReference:1
# Look up session by school: /schools/{id}/sections
session,false,body.schoolId:1
# Look up staffCohortAssociation by cohort: /cohorts/{id}/staffCohortAssociations
staffCohortAssociation,false,body.cohortId:1
# Look up staffCohortAssociation by teacher: /teachers/{id}/staffCohortAssociations
staffCohortAssociation,false,body.staffId:1
# Look up staffEdorgAssoc by edorg: /educationOrganizations/{id}/staffEducationOrgAssignmentAssociations
staffEducationOrganizationAssociation,false,body.educationOrganizationReference:1
# Look up staffEdorgAssoc by staff : /staff/{id}/staffEducationOrgAssignmentAssociations
staffEducationOrganizationAssociation,false,body.staffReference:1
# Look up staffProgramAssoc by program: /programs/{id}/staffProgramAssociations
staffProgramAssociation,false,body.programId:1
# Look up staffProgramAssoc by staff: /staff/{id}/staffProgramAssociations
staffProgramAssociation,false,body.staffId:1
# REMOVE - DE2551
studentAcademicRecord,false,body.reportCards:1
# Look up studentAcademicRecord by session: /sessions/{id}/studentAcademicRecords
studentAcademicRecord,false,body.sessionId:1
# Look up studentAcademicRecord by student: /students/{id}/studentAcademicRecords
studentAcademicRecord,false,body.studentId:1
# studentAssessment is embedded into student
# Look up studentAssessment by assessment: /assessments/{id}/studentAssessments
student,false,studentAssessment.body.assessmentId:1
# Look up studentCompetency by learningObjective: /learningObjectives/{id}/studentCompetencies
studentCompetency,false,body.objectiveId.learningObjectiveId:1
# REMOVE - DE2552
studentCompetency,false,body.objectiveId.studentCompetencyObjectiveId:1
# Look up studentCompetency by studentSectionAssoc: /studentSectionAssociations/{id}/studentCompetencies
studentCompetency,false,body.studentSectionAssociationId:1
# Look up studentCompetencyObjective by edorg: /educationOrganizations/{id}/studentCompetencyObjectives
studentCompetencyObjective,false,body.educationOrganizationId:1
# REMOVE - DE2553
student,false,studentDisciplineIncidentAssociation.body.disciplineIncidentId:1
# Look up studentGradebookEntry by gradebookEntry: /gradebookEntries/{id}/studentGradebookEntries
studentGradebookEntry,false,body.gradebookEntryId:1
# Look up studentGradebookEntry by section: /sections/{id}/studentGradebookEntries
studentGradebookEntry,false,body.sectionId:1
# Look up studentGradebookEntry by student: /students/{id}/studentGradebookEntries
studentGradebookEntry,false,body.studentId:1
# REMOVE - DE2554
studentGradebookEntry,false,body.studentSectionAssociationId:1
# studentParentAssociation is embedded into student
# Look up studentParentAssoc by parent: /parents/{id}/studentParentAssociations
student,false,studentParentAssociation.body.parentId:1
# studentProgramAssociation is embedded into program
# REMOVE - DE2555
program,false,studentProgramAssociation.body.educationOrganizationId:1
# Look up studentProgramAssoc by student: /students/{id}/studentProgramAssociations
program,false,studentProgramAssociation.body.studentId:1
# REMOVE - DE2556
studentSchoolAssociation,false,body.graduationPlanId:1
# Look up studentSchoolAssoc by school: /schools/{id}/studentSchoolAssociations
studentSchoolAssociation,false,body.schoolId:1
# Look up studentSchoolAssoc by student: /students/{id}/studentSchoolAssociations
studentSchoolAssociation,false,body.studentId:1
# studentSectionAssociation is embedded into section
# Look up studentSectionAssoc by student: /students/{id}/studentSectionAssociations
section,false,studentSectionAssociation.body.studentId:1
# Look up teacherSchoolAssoc by school: /schools/{id}/teacherSchoolAssociations
teacherSchoolAssociation,false,body.schoolId:1
# Look up teacherSchoolAssoc by staff: /staff/{id}/teacherSchoolAssociations
teacherSchoolAssociation,false,body.teacherId:1
# teacherSectionAssociation is embedded into section
# Look up teacherSectionAssoc by teacher: /teachers/{id}/teacherSectionAssociations
section,false,teacherSectionAssociation.body.teacherId:1

# Ingestion
# These indexes are all used by ingestion and should be removed as part of reference resolution work
# TONY - Need to tie these to reference resolution stories

# US4388
assessment,false,body.assessmentIdentificationCode:1
# US4388
assessment,false,body.assessmentPeriodDescriptor.codeValue:1
# US4388
assessment,false,body.assessmentTitle:1,body.academicSubject:1,body.gradeLevelAssessed:1
calendarDate,false,body.date:1,body.calendarEvent:1
course,false,body.courseCode.ID:1,body.courseCode.identificationSystem:1
disciplineIncident,false,body.incidentIdentifier:1
educationOrganization,false,body.stateOrganizationId:1
# needs to be combined with next
educationOrganization,false,body.educationOrgIdentificationCode:1
educationOrganization,false,body.educationOrgIdentificationCode.ID:1
gradingPeriod,false,body.gradingPeriodIdentity.schoolYear:1
graduationPlan,false,body.graduationPlanType:1
# needs to combined with next
learningObjective,false,body.learningObjectiveId:1
learningObjective,false,body.learningObjectiveId.identificationCode:1
learningObjective,false,body.objective:1
learningStandard,false,body.learningStandardId.identificationCode:1
parent,false,body.parentUniqueStateId:1
program,false,body.programId:1
section,false,body.uniqueSectionCode:1
session,false,body.sessionName:1
student,false,body.studentUniqueStateId:1
studentCompetency,false,metaData.externalId:1,metaData.studentUniqueStateId:1,metaData.uniqueSectionCode:1
studentCompetencyObjective,false,body.studentCompetencyObjectiveId:1

# Profiled
# REMOVE - DE2563
educationOrganization,false,body.parentEducationAgencyReference:1,type:1
# Find school/edorg by name
educationOrganization,false,type:1,body.nameOfInstitution:1
# REMOVE - DE2557
gradingPeriod,false,body.beginDate:1
# Find staff/teacher by login
staff,false,body.staffUniqueStateId:1
# REMOVE - DE2559
staff,false,type:1


#  TODO: Index to make querying acceptance tests pass - this is really bad!!
reportCard,false,body.gpaCumulative:1

# US4365
student,false,cohort._id:1

# DE2091, checked with Billy
competencyLevelDescriptor,false,body.codeValue:1

# US4602, checked with Billy.
educationOrganization,false,body.organizationCategories:1

<?xml version="1.0" encoding="UTF-8"?>
<xs:schema xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns="http://ed-fi.org/0100" targetNamespace="http://ed-fi.org/0100"
           elementFormDefault="qualified" attributeFormDefault="unqualified">
  <xs:include schemaLocation="../edfiXsd/Ed-Fi-Core.xsd"/>

  <!-- Make ProgramId a required field -->
  <xs:complexType name="SLI-ProgramRestriction">
    <xs:complexContent>
      <xs:restriction base="Program">
        <xs:sequence>
          <xs:element name="ProgramId" type="ProgramId" />
          <xs:element name="ProgramType" type="ProgramType" />
          <xs:element name="ProgramSponsor" type="ProgramSponsorType" minOccurs="0" />
          <xs:element name="Services" type="ServiceDescriptorType" minOccurs="0" maxOccurs="unbounded" />
        </xs:sequence>
      </xs:restriction>
    </xs:complexContent>
  </xs:complexType>

  <!-- Add UniqueCourseId -->
  <xs:complexType name="SLI-CourseExtension">
    <xs:complexContent>
      <xs:extension base="Course">
        <xs:sequence>
          <xs:element name="UniqueCourseId" type="SLI-UniqueCourseId" />
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>

  <!-- Make SchoolReference required -->
  <xs:complexType name="SLI-AttendanceEventRestriction">
    <xs:complexContent>
      <xs:restriction base="AttendanceEvent">
        <xs:sequence>
          <xs:element name="EventDate" type="xs:date" />
          <xs:element name="AttendanceEventType" type="AttendanceEventType" minOccurs="0" />
          <xs:element name="AttendanceEventCategory" type="AttendanceEventCategoryType" />
          <xs:element name="AttendanceEventReason" type="AttendanceEventReason" minOccurs="0" />
          <xs:element name="EducationalEnvironment" type="EducationalEnvironmentType" minOccurs="0" />
          <xs:element name="StudentReference" type="StudentReferenceType" />
          <xs:element name="SectionReference" type="SectionReferenceType" minOccurs="0" />
          <xs:element name="SchoolReference" type="EducationalOrgReferenceType" />
          <xs:element name="SessionReference" type="SessionReferenceType" minOccurs="0" />
        </xs:sequence>
      </xs:restriction>
    </xs:complexContent>
  </xs:complexType>

  <!-- Change ObjectiveAssessmentReference to ObjectiveAssessmentReferenceType -->
  <xs:complexType name="SLI-ObjectiveAssessmentRestriction">
    <xs:complexContent>
      <xs:restriction base="ObjectiveAssessment">
        <xs:sequence>
          <xs:element name="IdentificationCode" type="IdentificationCode" />
          <xs:element name="MaxRawScore" type="xs:int" minOccurs="0" />
          <xs:element name="AssessmentPerformanceLevel" type="AssessmentPerformanceLevel" minOccurs="0" maxOccurs="unbounded" />
          <xs:element name="PercentOfAssessment" type="percent" minOccurs="0" />
          <xs:element name="Nomenclature" type="Nomenclature" minOccurs="0" />
          <xs:element name="AssessmentItemReference" type="ReferenceType" minOccurs="0" maxOccurs="unbounded" />
          <xs:element name="LearningObjectiveReference" type="LearningObjectiveReferenceType" minOccurs="0" maxOccurs="unbounded" />
          <xs:element name="LearningStandardReference" type="LearningStandardReferenceType" minOccurs="0" maxOccurs="unbounded" />
        </xs:sequence>
      </xs:restriction>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="SLI-ObjectiveAssessmentExtension">
    <xs:complexContent>
      <xs:extension base="SLI-ObjectiveAssessmentRestriction">
        <xs:sequence>
          <xs:element name="ObjectiveAssessmentReference" type="ObjectiveAssessmentReferenceType" minOccurs="0" maxOccurs="unbounded" />
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>

  <!-- Change StudentAssessmentItem.StudentAssessmentReference to StudentAssessmentReferenceType -->
  <xs:complexType name="SLI-StudentAssessmentItem">
    <xs:complexContent>
      <xs:extension base="ComplexObjectType">
        <xs:sequence>
          <xs:element name="AssessmentResponse" type="AssessmentResponse" minOccurs="0" />
          <xs:element name="ResponseIndicator" type="ResponseIndicatorType" minOccurs="0" />
          <xs:element name="AssessmentItemResult" type="AssessmentItemResultType" />
          <xs:element name="RawScoreResult" type="xs:int" minOccurs="0" />
          <xs:element name="StudentAssessmentReference" type="SLI-StudentAssessmentReferenceType" minOccurs="0" />
          <xs:element name="StudentObjectiveAssessmentReference" type="ReferenceType" minOccurs="0" />
          <xs:element name="AssessmentItemReference" type="AssessmentItemReferenceType" />
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>

  <!-- Change StudentObjectiveAssessment.StudentAssessmentReference to StudentAssessmentReferenceType -->
  <xs:complexType name="SLI-StudentObjectiveAssessment">
    <xs:complexContent>
      <xs:extension base="ComplexObjectType">
        <xs:sequence>
          <xs:element name="ScoreResults" type="ScoreResult" maxOccurs="unbounded"/>
          <xs:element name="PerformanceLevels" type="PerformanceLevelDescriptorType" minOccurs="0" maxOccurs="unbounded"/>
          <xs:element name="StudentAssessmentReference" type="SLI-StudentAssessmentReferenceType" />
          <xs:element name="ObjectiveAssessmentReference" type="ObjectiveAssessmentReferenceType"/>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>

  <!-- Change StudentAcademicRecord.ReportCardReference to ReportCardReferenceType -->
  <xs:complexType name="SLI-StudentAcademicRecord">
    <xs:complexContent>
      <xs:extension base="ComplexObjectType">
        <xs:sequence>
          <xs:element name="CumulativeCreditsEarned" type="Credits" minOccurs="0" />
          <xs:element name="CumulativeCreditsAttempted" type="Credits" minOccurs="0" />
          <xs:element name="CumulativeGradePointsEarned" type="xs:decimal" minOccurs="0" />
          <xs:element name="CumulativeGradePointAverage" type="xs:decimal" minOccurs="0" />
          <xs:element name="GradeValueQualifier" type="GradeValueQualifier" minOccurs="0" />
          <xs:element name="ClassRanking" type="ClassRanking" minOccurs="0" />
          <xs:element name="AcademicHonors" type="AcademicHonor" minOccurs="0" maxOccurs="unbounded" />
          <xs:element name="Recognitions" type="Recognition" minOccurs="0" maxOccurs="unbounded" />
          <xs:element name="ProjectedGraduationDate" type="xs:date" minOccurs="0" />
          <xs:element name="SessionCreditsEarned" type="Credits" minOccurs="0" />
          <xs:element name="SessionCreditsAttempted" type="Credits" minOccurs="0" />
          <xs:element name="SessionGradePointsEarned" type="xs:decimal" minOccurs="0" />
          <xs:element name="SessionGradePointAverage" type="xs:decimal" minOccurs="0" />
          <xs:element name="StudentReference" type="StudentReferenceType" />
          <xs:element name="SessionReference" type="SessionReferenceType" />
          <xs:element name="ReportCardReference" type="SLI-ReportCardReferenceType" minOccurs="0" maxOccurs="unbounded" />
          <xs:element name="DiplomaReference" type="ReferenceType" minOccurs="0" />
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>

   <!--Make StudentSectionAssociationReference required -->
  <xs:complexType name="SLI-StudentCompetencyRestriction">
    <xs:complexContent>
      <xs:restriction base="StudentCompetency">
        <xs:sequence>
          <xs:choice>
            <xs:element name="LearningObjectiveReference" type="LearningObjectiveReferenceType" />
            <xs:element name="StudentCompetencyObjectiveReference" type="StudentCompetencyObjectiveReferenceType" />
          </xs:choice>
          <xs:element name="CompetencyLevel" type="CompetencyLevelDescriptorType" />
          <xs:element name="DiagnosticStatement" type="text" minOccurs="0" />
          <xs:element name="StudentSectionAssociationReference" type="StudentSectionAssociationReferenceType" />
        </xs:sequence>
      </xs:restriction>
    </xs:complexContent>
  </xs:complexType>

  <!-- Make StudentCompetencyObjectiveId required -->
  <xs:complexType name="SLI-StudentCompetencyObjectiveRestriction">
    <xs:complexContent>
      <xs:restriction base="StudentCompetencyObjective">
        <xs:sequence>
          <xs:element name="StudentCompetencyObjectiveId" type="IdentificationCode" />
          <xs:element name="Objective" type="Objective" />
          <xs:element name="Description" type="Description" minOccurs="0" />
          <xs:element name="ObjectiveGradeLevel" type="GradeLevelType" />
          <xs:element name="EducationOrganizationReference" type="EducationalOrgReferenceType" />
        </xs:sequence>
      </xs:restriction>
    </xs:complexContent>
  </xs:complexType>

  <!-- Limit StaffReference and CohortReference to 1 -->
  <xs:complexType name="SLI-StaffCohortAssociationRestriction">
    <xs:complexContent>
      <xs:restriction base="StaffCohortAssociation">
        <xs:sequence>
          <xs:element name="StaffReference" type="StaffReferenceType" />
          <xs:element name="CohortReference" type="CohortReferenceType" />
          <xs:element name="BeginDate" type="xs:date" />
          <xs:element name="EndDate" type="xs:date" minOccurs="0" />
          <xs:element name="StudentRecordAccess" type="xs:boolean" minOccurs="0" />
        </xs:sequence>
      </xs:restriction>
    </xs:complexContent>
  </xs:complexType>

  <!-- Limit StaffReference and ProgramReference to 1 -->
  <xs:complexType name="SLI-StaffProgramRestriction">
    <xs:complexContent>
      <xs:restriction base="StaffProgramAssociation">
        <xs:sequence>
          <xs:element name="StaffReference" type="StaffReferenceType" />
          <xs:element name="ProgramReference" type="ProgramReferenceType" />
          <xs:element name="BeginDate" type="xs:date" />
          <xs:element name="EndDate" type="xs:date" minOccurs="0" />
          <xs:element name="StudentRecordAccess" type="xs:boolean" minOccurs="0" />
        </xs:sequence>
      </xs:restriction>
    </xs:complexContent>
  </xs:complexType>

  <!-- Make BeginDate required field on StudentSectionAssociation -->
  <xs:complexType name="SLI-StudentSectionAssociationRestriction">
    <xs:complexContent>
      <xs:restriction base="StudentSectionAssociation">
        <xs:sequence>
          <xs:element name="StudentReference" type="StudentReferenceType" />
          <xs:element name="SectionReference" type="SectionReferenceType" />
          <xs:element name="BeginDate" type="xs:date" />
          <xs:element name="EndDate" type="xs:date" minOccurs="0" />
          <xs:element name="HomeroomIndicator" type="xs:boolean" minOccurs="0" />
          <xs:element name="RepeatIdentifier" type="RepeatIdentifierType" minOccurs="0" />
        </xs:sequence>
      </xs:restriction>
    </xs:complexContent>
  </xs:complexType>

  <!-- Limit SchoolReference to 1 on TeacherSchoolAssociation -->
  <xs:complexType name="SLI-TeacherSchoolAssociationRestriction">
    <xs:complexContent>
      <xs:restriction base="TeacherSchoolAssociation">
        <xs:sequence>
          <xs:element name="TeacherReference" type="StaffReferenceType" />
          <xs:element name="SchoolReference" type="EducationalOrgReferenceType" />
          <xs:element name="ProgramAssignment" type="ProgramAssignmentType" />
          <xs:element name="InstructionalGradeLevels" type="GradeLevelsType" />
          <xs:element name="AcademicSubjects" type="AcademicSubjectsType" />
        </xs:sequence>
      </xs:restriction>
    </xs:complexContent>
  </xs:complexType>

  <!-- Change type of Assessment.ObjectiveAssessmentReference to ObjectiveAssessmentReferenceType -->
  <xs:complexType name="SLI-Assessment">
    <xs:complexContent>
      <xs:extension base="ComplexObjectType">
        <xs:sequence>
          <xs:element name="AssessmentTitle" type="AssessmentTitle" />
          <xs:element name="AssessmentIdentificationCode" type="AssessmentIdentificationCode" maxOccurs="unbounded" />
          <xs:element name="AssessmentCategory" type="AssessmentCategoryType" minOccurs="0" />
          <xs:element name="AcademicSubject" type="AcademicSubjectType" minOccurs="0" />
          <xs:element name="GradeLevelAssessed" type="GradeLevelType" minOccurs="0" />
          <xs:element name="LowestGradeLevelAssessed" type="GradeLevelType" minOccurs="0" />
          <xs:element name="AssessmentPerformanceLevel" type="AssessmentPerformanceLevel" minOccurs="0" maxOccurs="unbounded" />
          <xs:element name="ContentStandard" type="ContentStandardType" minOccurs="0" />
          <xs:element name="AssessmentForm" type="AssessmentForm" minOccurs="0" />
          <xs:element name="Version" type="Version" minOccurs="0" />
          <xs:element name="RevisionDate" type="xs:date" minOccurs="0" />
          <xs:element name="MaxRawScore" type="xs:int" minOccurs="0" />
          <xs:element name="Nomenclature" type="Nomenclature" minOccurs="0" />
          <xs:element name="AssessmentPeriod" type="AssessmentPeriodDescriptorType" minOccurs="0" />
          <xs:element name="AssessmentItemReference" type="ReferenceType" minOccurs="0" maxOccurs="unbounded" />
          <xs:element name="ObjectiveAssessmentReference" type="ObjectiveAssessmentReferenceType" minOccurs="0" maxOccurs="unbounded" />
          <xs:element name="AssessmentFamilyReference" type="AssessmentFamilyReferenceType" minOccurs="0" />
          <xs:element name="SectionReference" type="SectionReferenceType" minOccurs="0" maxOccurs="unbounded" />
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>

  <!-- Change type of StudentSchoolAssociation.GraduationPlanReference
       to GraduationPlanReference type -->
  <xs:complexType name="SLI-StudentSchoolAssociationRestriction">
    <xs:complexContent>
      <xs:restriction base="StudentSchoolAssociation">
        <xs:sequence>
          <xs:element name="StudentReference" type="StudentReferenceType" />
          <xs:element name="SchoolReference" type="EducationalOrgReferenceType" />
          <xs:element name="SchoolYear" type="SchoolYearType" minOccurs="0" />
          <xs:element name="EntryDate" type="xs:date" />
          <xs:element name="EntryGradeLevel" type="GradeLevelType" />
          <xs:element name="EntryType" type="EntryType" minOccurs="0" />
          <xs:element name="RepeatGradeIndicator" type="xs:boolean" minOccurs="0" />
          <xs:element name="ClassOf" type="SchoolYearType" minOccurs="0" />
          <xs:element name="SchoolChoiceTransfer" type="xs:boolean" minOccurs="0" />
          <xs:element name="ExitWithdrawDate" type="xs:date" minOccurs="0" />
          <xs:element name="ExitWithdrawType" type="ExitWithdrawType" minOccurs="0" />
          <xs:element name="EducationalPlans" type="EducationalPlansType" minOccurs="0" />
        </xs:sequence>
      </xs:restriction>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="SLI-StudentSchoolAssociationExtension">
    <xs:complexContent>
      <xs:extension base="SLI-StudentSchoolAssociationRestriction">
        <xs:sequence>
          <xs:element name="GraduationPlanReference" type="SLI-GraduationPlanReferenceType" minOccurs="0" />
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>

  <!-- Change type of StudentGradebookEntry.GradebookEntryReference to type GradebookEntryReference -->
  <xs:complexType name="SLI-StudentGradebookEntry">
    <xs:complexContent>
      <xs:extension base="ComplexObjectType">
        <xs:sequence>
          <xs:element name="DateFulfilled" type="xs:date" minOccurs="0"/>
          <xs:element name="LetterGradeEarned" minOccurs="0">
            <xs:simpleType>
              <xs:restriction base="GradeEarned">
                <xs:maxLength value="20"/>
              </xs:restriction>
            </xs:simpleType>
          </xs:element>
          <xs:element name="NumericGradeEarned" type="xs:integer" minOccurs="0"/>
          <xs:element name="CompetencyLevel" type="CompetencyLevelDescriptorType" minOccurs="0"/>
          <xs:element name="DiagnosticStatement" type="text" minOccurs="0"/>
          <xs:element name="StudentSectionAssociationReference" type="StudentSectionAssociationReferenceType"/>
          <xs:element name="GradebookEntryReference" type="SLI-GradebookEntryReferenceType"/>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>

  <xs:simpleType name="SLI-UniqueCourseId">
    <xs:annotation>
      <xs:documentation>A unique number or alphanumeric code assigned to a course by a school, school system, a state, or other agency or entity.</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:string">
      <xs:minLength value="1"/>
      <xs:maxLength value="60"/>
    </xs:restriction>
  </xs:simpleType>

  <xs:complexType name="SLI-GraduationPlanReferenceType">
    <xs:annotation>
      <xs:documentation/>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="ReferenceType">
        <xs:sequence>
          <xs:element name="GraduationPlanIdentity" type="SLI-GraduationPlanIdentityType" minOccurs="0">
            <xs:annotation>
              <xs:documentation/>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="SLI-GradebookEntryReferenceType">
    <xs:annotation>
      <xs:documentation/>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="ReferenceType">
        <xs:sequence>
          <xs:element name="GradebookEntryIdentity" type="SLI-GradebookEntryIdentityType" minOccurs="0">
            <xs:annotation>
              <xs:documentation/>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="SLI-GraduationPlanIdentityType">
    <xs:annotation>
      <xs:documentation/>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="GraduationPlanType" type="xs:string" minOccurs="0">
        <xs:annotation>
          <xs:documentation/>
        </xs:annotation>
      </xs:element>
      <xs:element name="TotalCreditsRequired" type="Credits" minOccurs="0">
        <xs:annotation>
          <xs:documentation/>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="SLI-GradebookEntryIdentityType">
    <xs:annotation>
      <xs:documentation/>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="GradebookEntryType" type="xs:string" minOccurs="0">
        <xs:annotation>
          <xs:documentation/>
        </xs:annotation>
      </xs:element>
      <xs:element name="DateAssigned" type="xs:date" minOccurs="0">
        <xs:annotation>
          <xs:documentation/>
        </xs:annotation>
      </xs:element>
      <xs:element name="SectionReference" type="SectionReferenceType" minOccurs="0">
        <xs:annotation>
          <xs:documentation/>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>

  <xs:complexType name="SLI-ReportCardReferenceType">
    <xs:annotation>
      <xs:documentation/>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="ReferenceType">
        <xs:sequence>
          <xs:element name="ReportCardIdentity" type="SLI-ReportCardIdentityType" minOccurs="0">
            <xs:annotation>
              <xs:documentation/>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="SLI-ReportCardIdentityType">
    <xs:annotation>
      <xs:documentation/>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="StudentReference" type="StudentReferenceType" minOccurs="0">
        <xs:annotation>
          <xs:documentation/>
        </xs:annotation>
      </xs:element>
      <xs:element name="GradingPeriodReference" type="GradingPeriodReferenceType" minOccurs="0">
        <xs:annotation>
          <xs:documentation/>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="SLI-StudentAssessmentReferenceType">
    <xs:annotation>
      <xs:documentation/>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="ReferenceType">
        <xs:sequence>
          <xs:element name="StudentAssessmentIdentity" type="SLI-StudentAssessmentIdentityType" minOccurs="0">
            <xs:annotation>
              <xs:documentation/>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="SLI-StudentAssessmentIdentityType">
    <xs:annotation>
      <xs:documentation/>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="AdministrationDate" type="xs:date" minOccurs="0">
        <xs:annotation>
          <xs:documentation/>
        </xs:annotation>
      </xs:element>
      <xs:element name="StudentReference" type="StudentReferenceType" minOccurs="0">
        <xs:annotation>
          <xs:documentation/>
        </xs:annotation>
      </xs:element>
      <xs:element name="AssessmentReference" type="AssessmentReferenceType" minOccurs="0">
        <xs:annotation>
          <xs:documentation/>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>

</xs:schema>